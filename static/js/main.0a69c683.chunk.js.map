{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchBar.js","components/Services/pixabay.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","searchValue","perPage","handleSearchChange","e","target","name","value","setState","handleSearchSubmit","preventDefault","props","getSearchValues","className","s","Searchbar","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","FetchObject","base_url","api_key","_query","_page","_perPage","endPoint","a","axios","defaults","baseURL","params","query","page","url","get","result","data","hits","message","ImageGalleryItem","image","onImageClick","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","largeImageURL","id","Button","newFetchObject","ImageGallery","searchResults","handleClick","searchPhotos","then","prev","catch","err","console","log","scrollToBottom","setTimeout","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevState","resetPage","map","el","length","Modal","handleEscape","code","toggleModal","handleClose","currentTarget","addEventListener","removeEventListener","children","createPortal","Overlay","getElementById","LoaderSpinner","color","height","width","timeout","App","images","largeImage","showModal","isLoading","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0a69c683.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import s from \"./SearchBar.module.css\";\nimport { Component } from \"react\";\n\nexport class SearchBar extends Component {\n  state = {\n    searchValue: \"\",\n    perPage: 12,\n  };\n  handleSearchChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSearchSubmit = (e) => {\n    e.preventDefault();\n    // console.log(\"BEFORE FETCH\", this.state.searchValue, this.state.perPage);\n    // this.setState({ searchValue: \"\" });\n    this.props.getSearchValues(this.state.searchValue, this.state.perPage);\n    this.setState({ searchValue: \"\", perPage: 12 });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSearchSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"searchValue\"\n            value={this.state.searchValue}\n            onChange={this.handleSearchChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport class FetchObject {\n  constructor(base_url, api_key) {\n    this.base_url = base_url;\n    this.api_key = api_key;\n    this._query = \"\";\n    this._page = 1;\n    this._perPage = 12;\n    this.endPoint = \"\";\n  }\n  get searchQuery() {\n    return this._query;\n  }\n  set searchQuery(value) {\n    return (this._query = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  resetPage() {\n    return (this._page = 1);\n    // ((this._perPage = 12));\n  }\n  get perPage() {\n    return this._perPage;\n  }\n  set perPage(value) {\n    return (this._perPage = value);\n  }\n\n  async searchPhotos() {\n    axios.defaults.baseURL = this.base_url;\n\n    let params = `?key=${this.api_key}&q=${this.query}&page=${this.page}&per_page=${this.perPage}`;\n    let url = this.endPoint + params;\n\n    try {\n      const result = await axios.get(url);\n      const data = result.data.hits;\n      return data;\n    } catch (err) {\n      return err.message;\n    }\n  }\n}\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport const ImageGalleryItem = ({ image, onImageClick }) => {\n  const fullImage = () => onImageClick(image.largeImageURL);\n  return (\n    <li key={image.id} className={s.ImageGalleryItem}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={s.ImageGalleryItemImage}\n        onClick={fullImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n  onImageClick: PropTypes.func.isRequired,\n};\n","import s from \"./Button.module.css\";\n\nexport const Button = ({ onClick }) => {\n  return (\n    <div className=\"container\">\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        load more\n      </button>\n    </div>\n  );\n};\n","import s from \"./ImageGallery.module.css\";\nimport { Component } from \"react\";\nimport { FetchObject } from \"../Services/pixabay\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"..//Button/Button\";\n\nconst base_url = `https://pixabay.com/api/`;\nconst api_key = `23194515-4229c06a71e7a36cb0b196559`;\nconst newFetchObject = new FetchObject(base_url, api_key);\n\nexport class ImageGallery extends Component {\n  state = {\n    searchResults: [],\n  };\n  componentDidMount() {\n    // this.scrollToBottom();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.searchValue !== this.props.searchValue ||\n      prevProps.perPage !== this.props.perPage\n    ) {\n      newFetchObject.resetPage();\n      newFetchObject.query = this.props.searchValue;\n      newFetchObject.perPage = this.props.perPage;\n      newFetchObject\n        .searchPhotos()\n        .then((searchResults) => {\n          this.setState({ searchResults });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    if (newFetchObject.page !== 1) {\n      this.scrollToBottom();\n    }\n  }\n\n  handleClick = () => {\n    newFetchObject.page = 1;\n    newFetchObject\n      .searchPhotos()\n      .then((searchResults) => {\n        this.setState((prev) => ({\n          searchResults: [...prev.searchResults, ...searchResults],\n        }));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  scrollToBottom = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    });\n  };\n\n  render() {\n    const { searchResults } = this.state;\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          {searchResults.map((el) => (\n            <ImageGalleryItem\n              key={el.id}\n              image={el}\n              src={el.largeImageURL}\n              onImageClick={this.props.onImageClick}\n            />\n          ))}\n        </ul>\n        {searchResults.length >= 12 && <Button onClick={this.handleClick} />}\n      </>\n    );\n  }\n}\n","import s from \"./Modal.module.css\";\nimport { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nexport class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEscape);\n  }\n  componentDidUpdate(prevProps, prevState) {}\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEscape);\n  }\n\n  handleEscape = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.toggleModal();\n    }\n  };\n  handleClose = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleClose}>\n        <div className={s.Modal}>{children}</div>\n      </div>,\n      document.getElementById(\"modalRoot\")\n    );\n  }\n}\n","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\n\nexport default class LoaderSpinner extends Component {\n  // intervalId = null;\n  //  componentWillUnmount() {\n  //  clearInterval(this.intervalId);\n  // }\n  render() {\n    return (\n      <Loader\n        className=\"container\"\n        type=\"Grid\"\n        color=\"#3f51b5\"\n        height={100}\n        width={100}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport { SearchBar } from \"./components/Searchbar/SearchBar\";\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\nimport { Modal } from \"./components/Modal/Modal\";\nimport LoaderSpinner from \"./components/Loader/Loader\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchValue: \"\",\n    largeImage: \"\",\n    perPage: 12,\n    showModal: false,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    // this.setState({ isLoading: !this.state.isLoading });\n    if (prevState.images !== this.state.images) {\n      this.setState(this.state.images);\n    }\n    // if (prevState.isLoading !== this.state.isLoading) {\n    //   this.setState(this.state.isLoading);\n    // }\n  }\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  onImageClick = (largeImageURL) => {\n    this.setState({ largeImage: largeImageURL });\n    this.toggleModal();\n  };\n\n  getSearchValues = (searchValue, perPage) => {\n    // this.setState({ isLoading: !this.state.isLoading });\n    this.setState({ searchValue, perPage, isLoading: !this.state.isLoading });\n  };\n\n  render() {\n    const { searchValue, perPage, showModal, largeImage, isLoading } =\n      this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchBar getSearchValues={this.getSearchValues} />\n        {isLoading && <LoaderSpinner />}\n\n        <ImageGallery\n          searchValue={searchValue}\n          perPage={perPage}\n          onImageClick={this.onImageClick}\n        />\n\n        {showModal && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={largeImage} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__LuSsJ\",\"SearchForm\":\"SearchBar_SearchForm__1OsD8\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1hCEk\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2pz7t\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3xRsP\"};"],"sourceRoot":""}